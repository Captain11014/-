## java 面向对象

#### 类和对象的内存分配机制

1.栈：一般存放基本数据类型（局部变量）。

2.堆：存放对象、数组等。

3.方法区：常量池（常量、比如字符串），类加载信息。

**java创建对象的简单流程分析**

```java
Person p = new Person();
p.name = "jack";
p.age = 10;
```

1.先加载Person类信息（属性和方法信息，只会加载一次）。

2.在堆中分配空间，进行默认初始化（看规则）

3.把地址赋给p，p就指向对象。

4.进行指定初始化，比如p.name = "jack"    p.age = 10。



#### 方法调用机制



方法调用小结：

1.当程序执行到方法时，就会开辟一个独立空间（栈空间）。

2.当方法执行完毕，或者执行到return语句时，就会返回。

3.返回到调用方法的地方。

4.返回后，继续执行方发后面的代码。

5.当main方法（栈）执行完毕，整个程序退出。



#### 方法的传参机制

1.基本数据类型传参机制：基本数据类型（参数），传递的是值（值拷贝），形参的任何改变不影响实参。

2.引用数据类型传参机制：引用类型传递的是地址，可以通过形参影响实参。



#### 递归的执行机制

递归重要规则：

1.执行一个方法时，就创建一个新的受保护的独立空间（栈空间）。

2.方法的局部变量时独立的，不会相互影响。

3.如果方法中使用的是引用类型的变量（比如数组），就会共享该引用类型的数据·。

4.递归必须向递归的条件逼近，否则就无限递归，出现Stack Overflow Error，死龟了。

5.当一个方法执行完毕，或者遇到return，就会返回，遵守谁调用，就将结果返回给谁，同时当方法执行完毕或者返回时，该方法也就执行完毕。





韩顺平 218
